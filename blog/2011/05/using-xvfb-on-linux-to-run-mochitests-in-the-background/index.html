
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Using Xvfb on Linux to run mochitests in the background - Tim Taubert</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    
    <meta name="description" content="Using Xvfb on Linux to run mochitests in the background May, 1st 2011 Seeing mochitests run for the first time is awesome but gets pretty annoying &hellip;">
    <meta content="Tim Taubert" name="author">
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans|PT+Sans" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="icon" type="image/ico">
    <link href="/feed/" rel="alternate" title="Tim Taubert" type="application/atom+xml">
  </head>


<body>
  <div class="container-fluid">
    <div class="row-fluid">
      <div class="col span3">
        <header id="header">
  <h1><a href="/">Tim Taubert</a></h1>
  <a href="https://twitter.com/ttaubert" class="twitter-follow-button" data-show-count="false">Follow @ttaubert</a>
  <script defer>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</header>

        <section id="about">
  <h1 class="hidden">About me</h1>
  <strong>Open Source enthusiast.</strong>
  <strong>JavaScript lover.</strong>
  <strong>Mozillian.</strong>
</section>

        <nav>
  <h1 class="hidden">Main Navigation</h1>
  <ul class="nav-main">
    <li><a class="nav-main-link" title="About me" href="/about-me">about me</a></li>
    <li><a class="nav-main-link" title="Archives" href="/blog/archives">Archives</a></li>
    <li><a class="nav-main-link" title="Imprint" href="/imprint">imprint</a></li>
  </ul>
</nav>

      </div>
      <div id="main" class="col span6">
        <section>
          <h1 class="hidden">Content</h1>
          <article class="post">
  <header class="article-header">
    
      <h1>Using Xvfb on Linux to run mochitests in the background</h1>
    
    








  



<time datetime="2011-05-01T14:08:00+02:00" pubdate data-updated="true">May, 1<span>st</span> 2011</time>
  </header>
  <p>Seeing mochitests run for the first time is awesome but gets pretty annoying at the 50th time, especially when executing whole test suites. I’ve always wanted to be able to do some bug triage or catch up with the mailing lists while letting mochitests run in the background.</p>

<p>Spawning a second XServer seemed a bit too much but fortunately there is another solution: Xvfb – a virtual frame buffer. Xvfb spawns a virtual XServer on the specified display and runs purely in memory.</p>

<p>Here is how to set up Xvfb and run mochitests on Ubuntu (shouldn’t be too hard on other distros either):</p>

<figure class='code'> <div class="highlight"><pre>me@host:~$ sudo apt-get install xvfb
me@host:~$ xvfb-run make -C $(OBJDIR) mochitest-browser-chrome
</pre>
</div>
</figure>


<p>Enjoy!</p>

</article>


<section class="well">
  <h1 class="hidden">Feedback</h1>
  <p class="feedback">
    Comments, questions, suggestions? Just tweet <a href="https://twitter.com/ttaubert">@ttaubert</a>.
  </p>
</section>

        </section>
      </div>
      <div class="col span1"></div>
      <div class="col span2">
        <section class="well">
  <h1 class="sidebar-header">Recent posts</h1>
  <ul class="nav nav-list" id="recent-posts">
    
      <li><a title="Are we small, yet?" href="/blog/2012/04/are-we-small-yet/">Are we small, yet?</a></li>
    
      <li><a title="One year at Mozilla" href="/blog/2012/04/one-year-at-mozilla/">One year at Mozilla</a></li>
    
      <li><a title="Fighting DocShell and DOMWindow leaks" href="/blog/2012/02/fighting-docshell-and-domwindow-leaks/">Fighting DocShell and DOMWindow leaks</a></li>
    
      <li><a title="Help us test the New Tab Page!" href="/blog/2012/02/help-us-test-the-new-tab-page/">Help us test the New Tab Page!</a></li>
    
      <li><a title="How I became a Firefox contributor" href="/blog/2012/01/how-i-became-a-firefox-contributor/">How I became a Firefox contributor</a></li>
    
  </ul>
</section>
<section class="well">
  <h1 class="sidebar-header">Disclaimer</h1>
  <p id="disclaimer">The opinions expressed here are my own and do not necessarily represent those of current or past employers.</p>
</section>

      </div>
    </div>
  </div>
</body>
</html>
